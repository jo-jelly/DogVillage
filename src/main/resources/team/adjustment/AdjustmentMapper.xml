<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"https://mybatis.org/dtd/mybatis-3-mapper.dtd" >

<mapper namespace="team.adjustment.AdjustmentMapper">
	
	<select id="totList" resultType="AdjustmentVO" parameterType="java.lang.Integer">
	
		<![CDATA[
		select * from (select rownum rnum, t1.* from 
		(select * from ADJUSTMENT order by adj_sdate desc) t1) 
		where rnum >= #{start} and rnum <= #{end}
		]]>
	
	</select>
	
	<select id="totSchList" resultType="AdjustmentVO" parameterType="AdjustmentVO">
	
	select * from ADJUSTMENT where adj_name like '%'||#{adj_name}||'%'
	
	</select>
	
	<select id="totalCnt" resultType="java.lang.Integer">
		select count(*) from ADJUSTMENT
	</select>
	
	<select id="list" resultType="AdjustmentVO">
		SELECT ADJ_CATE,ADJ_CATE_D, sum(ADJ_AMOUNT) AS total_amount, sum(ADJ_TOTALPRICE) AS total_price 
			FROM ADJUSTMENT
			GROUP BY ADJ_CATE,ADJ_CATE_D ORDER BY adj_cate
	</select>
	
	<select id="list1" resultType="AdjustmentVO">
		<![CDATA[
			SELECT ADJ_CATE,ADJ_CATE_D, sum(ADJ_AMOUNT) AS total_amount, sum(ADJ_TOTALPRICE) AS total_price 
			FROM ADJUSTMENT
			where ADJ_SDATE >= ADD_MONTHS(sysdate, -1)
			and ADJ_SDATE <= SYSDATE GROUP BY ADJ_CATE,ADJ_CATE_D ORDER BY adj_cate 
		]]>
	</select>
	
	<select id="list3" resultType="AdjustmentVO">
		<![CDATA[
			SELECT ADJ_CATE,ADJ_CATE_D, sum(ADJ_AMOUNT) AS total_amount, sum(ADJ_TOTALPRICE) AS total_price 
			FROM ADJUSTMENT
			where ADJ_SDATE >= ADD_MONTHS(sysdate, -3)
			and ADJ_SDATE <= SYSDATE GROUP BY ADJ_CATE,ADJ_CATE_D ORDER BY adj_cate 
		]]>
	</select>
	
	<select id="list6" resultType="AdjustmentVO">
		<![CDATA[
			SELECT ADJ_CATE,ADJ_CATE_D, sum(ADJ_AMOUNT) AS total_amount, sum(ADJ_TOTALPRICE) AS total_price 
			FROM ADJUSTMENT
			where ADJ_SDATE >= ADD_MONTHS(sysdate, -6)
			and ADJ_SDATE <= SYSDATE GROUP BY ADJ_CATE,ADJ_CATE_D ORDER BY adj_cate 
		]]>
	</select>
	
	
	
</mapper>


