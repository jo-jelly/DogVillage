<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"https://mybatis.org/dtd/mybatis-3-mapper.dtd" >

<mapper namespace="team.join.JoinMapper">
	
	<sql id="noMax">
		(select max(no)+1 from Customer)
	</sql>
	
	
	<insert id="insert" parameterType="JoinVO">
		<selectKey keyProperty="no" resultType="java.lang.Integer" order="BEFORE">
			<include refid="noMax"/>
		</selectKey>
		insert into Customer 
		(no, id, pw, name, mail, tel, zipcode, address, dog_size, dog_age ,grade) 
		values
		(#{no}, #{id},#{pw},#{name}, #{mail}, #{tel}, #{zipcode}, #{address}, #{dog_size}, #{dog_age}, #{grade})
	</insert>

	
<!--<select id="login" resultType="JoinVO" parameterType="JoinVO" > -->
<select id="login" resultType="JoinVO">
			select * from Customer
			where id = #{'id'}
			<!-- where id=#{id , jdbcType=VARCHAR} -->
</select>

	<select id="idChk" resultType="JoinVO">
	SELECT id FROM Customer
	WHERE id = #{'id'}
</select>
		
		
<select id="findPw" resultType="JoinVO">
			select * from Customer
			where id = #{id} and mail = #{mail}
			<!-- where id=#{id , jdbcType=VARCHAR} -->
</select>

<select id="loginChk" resultType="JoinVO">
			select * from Customer
			where id = #{id} and pw = #{pw}
			<!-- where id=#{id , jdbcType=VARCHAR} -->
</select>
		
</mapper>


