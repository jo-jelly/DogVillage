<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"https://mybatis.org/dtd/mybatis-3-mapper.dtd" >

<mapper namespace="team.Ad_Review.Ad_ReviewMapper"> <!-- 네임스페이스가 인터페이스 프로덕트맵퍼랑경로가같아야함 -->
   <select id="list" resultType="ad_reviewVO"> <!-- id가 메서드명  resultType. 가져다쓸수잇음. 알리아스 걸어야함 -->
      <![CDATA[
      select * from (select rownum rnum, t1.* from
      (select p.p_name,
r.r_code,
r.p_code,
r.id,
r.r_title,
r.R_CONTENT,
r.r_regdate,
r.R_IMAGE,
r.CNT 
from Review r , product p WHERE r.P_CODE = p.p_code order by r_code)t1)
      where rnum >= #{start} and rnum<= #{end}
      ]]>
   </select>
   <select id="totalCnt" resultType="java.lang.Integer">
      select count(*) from review
   </select>

   
   <select id="detail" resultType="ad_reviewVO" parameterType="java.lang.Integer"> <!-- 얘는 파라메타 필요! pk  -->
      select * from Review where r_code = #{r_code} <!--얘는 # 으로 써야함 -->
   </select>
   
   
  
   <!--
   <update id="modify" parameterType="java.lang.Integer">
   		<![CDATA[
   			update board set cnt = cnt+10 where #{no} < no
   		]]>
   </update>
      -->
   <delete id="delete" parameterType="ad_reviewVO">
   		delete from review where r_code = #{r_code}
   </delete>

   
</mapper>
